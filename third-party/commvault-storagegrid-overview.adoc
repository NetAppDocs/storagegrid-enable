---
permalink: third-party/commvault-storagegrid-overview.html
sidebar: sidebar
keywords: commvault, storagegrid, solution
summary: Learn how the data protection solution by Commvault and NetApp enables cloud storage migration and long-term data retention.
---

= Commvault Complete Backup and Recovery for NetApp and StorageGRID: Solution overview
:hardbreaks:
:icons: font
:imagesdir: ../media/

[.lead]
Learn how the data protection solution by Commvault and NetApp enables cloud storage migration and long-term data retention.

Commvault and NetApp have partnered to create a joint data protection solution combining Commvault Complete Backup and Recovery for NetApp software with NetApp® StorageGRID® software for cloud storage. Many organizations want to migrate their storage to the cloud, scale their systems, and automate their policy for long-term retention of data. Commvault Complete Backup and Recovery and NetApp StorageGRID provide unique, easy-to-use solutions that work together to help you meet demands of rapid data growth and increasing regulations around the world. Cloud-based object storage is known for its resilience, ability to scale, and operational and cost efficiencies that make it a natural choice as a target for your backup. Commvault and NetApp jointly certified their combined solution in 2014 and since then have engineered deeper integration between their two solutions. Customers of all types around the world have adopted the Commvault Complete Backup and Recovery and StorageGRID combined solution.

NetApp and Commvault recently performed large-scale reference architecture validation and the results as well as best practices are documented in an earlier NetApp technical report, TR-4831: http://www.netapp.com/us/media/tr-4831.pdf[NetApp Scale-out Data Protection^]. The testing described in this current Solution Design technical report used the same test environment, but this report focuses on StorageGRID sizing and optional configuration choices.

When you implement Commvault Complete Backup and Recovery software with cloud storage, you have 
two backup options:

 * Back up to a primary disk target and also back up an auxiliary copy to cloud storage.
 * Back up to cloud storage as the primary target.

In the past, cloud or object storage was considered to be too low-performing to be used for primary backup. The use of a primary disk target allowed customers to have faster backup and restore processes and to keep an auxiliary copy on the cloud as a cold backup. StorageGRID represents the next generation of object storage. StorageGRID is capable of high performance and massive throughput as well as performance and flexibility beyond what other object-storage vendors offer.

In the test environment described in http://www.netapp.com/us/media/tr-4831.pdf[TR-4831^], Commvault and StorageGRID built and validated a NetApp Verified Architecture using NetApp HCI as its hybrid cloud infrastructure for compute and NetApp ONTAP® as the software on the primary disk target. StorageGRID kept an auxiliary copy. In the same test environment we ran a second set of tests, using StorageGRID as the primary backup target.

NOTE: There are T-shirt sizing samples available for NetApp StorageGRID and Commvault as part of 
the NetApp Validated Architecture that use NetApp HCI for compute and NetApp ONTAP on the primary disk with StorageGRID for an auxiliary copy. Ask your NetApp representative for more details. 

The following table lists the benefits of each backup option with StorageGRID.

[cols=4*,options="header",cols="25,55,50"]
|===
| 
| Primary Backup to Disk and an Auxiliary Copy to StorageGRID
| Primary Backup to StorageGRID
| Performance | Fastest recovery time, using live mount or live recovery: best for Tier0 | Cannot be used for live mount or live recovery operations. Ideal for streaming restore operation and for long-term retention.   | Deployment architecture | Uses all flash or a spinning disk as a first backup landing tier. StorageGRID is used as a secondary tier.|Simplifies the deployment by using StorageGRID as the all-inclusive backup target. | Advanced features (live restore) | Supported | Not Supported
|===

== Solution technology
The tested solution combines Commvault and NetApp solutions to make a powerful joint solution.

Commvault Complete Backup and Recovery software is an enterprise-level, integrated data and information management solution, built from the ground up on a single platform and with a unified code base. All of its functions share back-end technologies, bringing the unparalleled advantages and benefits of a fully integrated approach to protecting, managing, and accessing your data. The software contains modules to protect, archive, analyze, replicate, and search your data. The modules share a common set of back-end services and advanced capabilities that seamlessly interact with each other. The solution addresses all aspects of data management in your enterprise, while providing infinite scalability and unprecedented control of data and information.

Key features of the Commvault software platform include:

* A complete data protection solution supporting all major operating systems, applications, and databases on virtual and physical servers, NAS systems, cloud-based infrastructures, and mobile devices.

* Simplified management through a single console: You can view, manage, and access all functions 
and all data and information across the enterprise.

* Multiple protection methods including data backup and archiving, snapshot management, data 
replication, and content indexing for e-discovery.

* Efficient storage management using deduplication for disk and cloud storage.

* Integration with NetApp storage arrays such as AFF, FAS, NetApp HCI, and E-Series arrays and NetApp SolidFire® scale-out storage systems. Integration also with NetApp Cloud Volumes ONTAP software to automate the creation of indexed, application-aware NetApp Snapshot™ copies across the NetApp storage portfolio.

* Complete virtual infrastructure management that supports leading on-premises virtual hypervisors and public cloud hyperscaler platforms.

* Advanced security capabilities to limit access to critical data, provide granular management capabilities, and provide single-sign-on access for Active Directory users.

* Policy-based data management that allows you to manage your data based on business needs—not physical location.

* A cutting-edge end-user experience, empowering your users to protect, find, and recover their own 
data.

* API-driven automation, allowing you to use third-party tools like vRealize Automation or Service Now 
to manage your data protection and recovery operations. 

For details on supported workloads, visit https://www.commvault.com/supported-technologies[https://www.commvault.com/supported-technologies]. 

NetApp StorageGRID as a Commvault cloud tier is an enterprise hybrid-cloud object-storage solution. You can deploy it across many sites, either on a purpose-built appliance or as a software-defined deployment StorageGRID enables you to establish data management policies that determine how data is stored and protected. StorageGRID collects the information you need to develop and enforce policies. It examines a wide range of characteristics and needs, including performance, durability, availability, geographic location, longevity,and cost. Data is fully maintained and protected as it moves between locations and as it ages.

The StorageGRID intelligent policy engine helps you choose either of the following options:

* To use erasure coding to back up data across multiple sites for resilience.

* To copy objects to remote sites to minimize WAN latency and cost. 

When StorageGRID stores an object, you access it as one object, regardless of where it is or how many copies exist. This behavior is crucial for disaster recovery, because with it, even if one backup copy of your data is corrupted, StorageGRID is able to restore your data.

Retaining backup data in your primary storage can be expensive. When you use NetApp StorageGRID, you free up space on your primary storage by migrating inactive backup data into StorageGRID while you benefit from the numerous capabilities of StorageGRID. The value of backup data changes over time, as does the cost of storing it. StorageGRID can minimize the cost of your primary storage while increasing the durability of your data. 

== Solution setup 

In the lab setup, the StorageGRID environment consisted of four NetApp StorageGRID SG5712 appliances, one virtual primary Admin node and one virtual Gateway node. The SG5712 appliance is the entry level option—a baseline configuration. Choosing higher performance appliance options such as the NetApp StorageGRID SG5760 or SG6060 can provide significant performance benefits. Consult your NetApp StorageGRID solution architect for sizing assistance.

For its data protection policy, StorageGRID uses an integrated lifecycle management (ILM) policy to manage and protect data. ILM rules are evaluated in a policy from top to bottom. We implemented the ILM policy shown in the following table.

[cols=3*,options="header",cols="30,30,40"]
|===
| ILM Rule
| Qualifiers
| Ingest Behavior
| Erasure Coding 2+1 | Objects over 200KB | Balanced
| 2 Copy | All objects | Dual Commit
|===

The ILM 2 Copy rule is the default rule. The Erasure Coding 2+1 rule was applied for this testing to any object 200KB or larger. The default rule was applied to objects smaller than 200KB. Application of the rules in this way is a StorageGRID best practice.

For technical details about this test environment, read the Solution Design and Best Practices section in the https://www.netapp.com/us/media/tr-4831.pdf[NetApp Scale-out Data Protection with Commvault^] technical report.

